<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hour 2: Machine Perception | AI Spam Lab</title>
  <link rel="stylesheet" href="../css/base.css">
  <link rel="stylesheet" href="../css/theme.css">
  <link rel="stylesheet" href="../css/student.css">
</head>

<body class="hour-2">
  <!-- Navigation -->
  <div class="hour-nav">
    <div class="hour-nav-content">
      <div class="hour-tabs">
        <div class="hour-tab" onclick="window.location.href='hour1.html'">Hour 1</div>
        <div class="hour-tab active">Hour 2</div>
        <div class="hour-tab locked" onclick="checkHourUnlock(3)">Hour 3</div>
        <div class="hour-tab locked" onclick="checkHourUnlock(4)">Hour 4</div>
      </div>
      
      <button class="secondary-btn" onclick="window.location.href='../index.html'">
        ‚Üê Home
      </button>
    </div>
  </div>

  <div class="container">
    <!-- Hour Header -->
    <div class="card" style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); border: none;">
      <span class="hour-badge">Hour 2</span>
      <h1>üëÅÔ∏è How AI "Sees" Text</h1>
      <p style="font-size: 1.1rem; color: #1e40af;">
        Discover how machines break down and process language ‚Äî without understanding it.
      </p>
    </div>

    <!-- Activity 4: Training Data -->
    <section class="card activity-section" id="activity-4">
      <div class="activity-header">
        <div class="activity-number">4</div>
        <div class="activity-title">
          <h2>Building AI's Memory</h2>
          <p>Create training data for the AI to learn from</p>
        </div>
      </div>
      
      <div id="activity-4-content"></div>
    </section>

    <!-- Activity 5: Tokenization -->
    <section class="card activity-section hidden" id="activity-5">
      <div class="activity-header">
        <div class="activity-number">5</div>
        <div class="activity-title">
          <h2>AI Cannot Read</h2>
          <p>Discover how AI breaks text into tokens</p>
        </div>
      </div>
      
      <div id="activity-5-content"></div>
    </section>

    <!-- Activity 6: Word Counts -->
    <section class="card activity-section hidden" id="activity-6">
      <div class="activity-header">
        <div class="activity-number">6</div>
        <div class="activity-title">
          <h2>Words Become Numbers</h2>
          <p>See how AI converts text to numerical data</p>
        </div>
      </div>
      
      <div id="activity-6-content"></div>
    </section>

    <!-- Hour Completion Message -->
    <div class="card hidden" id="hour-complete" style="text-align: center; padding: 60px 40px; background: linear-gradient(135deg, #dbeafe, #bfdbfe);">
      <h2 style="font-size: 2.5rem; margin-bottom: 20px;">üéâ</h2>
      <h2>Hour 2 Complete!</h2>
      <p style="font-size: 1.1rem; color: #1e40af; margin: 16px 0;">
        You've learned that AI doesn't "understand" ‚Äî it processes numbers and patterns.
      </p>
      <p style="color: #1e3a8a; font-weight: 600; margin-top: 24px;">
        Ask your teacher for the Hour 3 unlock code to continue!
      </p>
    </div>
  </div>

  <script type="module">
    import { initActivity4 } from '../js/activities/a04_dataset.js';
    import { initActivity5 } from '../js/activities/a05_tokenize.js';
    import { initActivity6 } from '../js/activities/a06_counts.js';
    import { isHourUnlocked } from '../js/core/unlock.js';

    // Initialize first activity of hour 2
    initActivity4(document.getElementById('activity-4-content'));

    // Listen for activity completions
    document.addEventListener('activityComplete', (e) => {
      const completedActivity = e.detail.activity;
      
      if (completedActivity === 4) {
        const activity5 = document.getElementById('activity-5');
        activity5.classList.remove('hidden');
        activity5.classList.add('fade-in');
        activity5.scrollIntoView({ behavior: 'smooth' });
        initActivity5(document.getElementById('activity-5-content'));
      } else if (completedActivity === 5) {
        const activity6 = document.getElementById('activity-6');
        activity6.classList.remove('hidden');
        activity6.classList.add('fade-in');
        activity6.scrollIntoView({ behavior: 'smooth' });
        initActivity6(document.getElementById('activity-6-content'));
      } else if (completedActivity === 6) {
        const completeMsg = document.getElementById('hour-complete');
        completeMsg.classList.remove('hidden');
        completeMsg.classList.add('fade-in');
        completeMsg.scrollIntoView({ behavior: 'smooth' });
      }
    });

    // Check hour unlock
    window.checkHourUnlock = function(hour) {
      if (isHourUnlocked(hour)) {
        window.location.href = `hour${hour}.html`;
      } else {
        alert(`‚ö†Ô∏è Hour ${hour} is locked. Your teacher will provide an unlock code when it's time.`);
      }
    };
  </script>
</body>
</html>